<div class="search-container">
  <div class="search-wrapper">
    <ion-searchbar
      class="search-input"
      placeholder="Buscar..."
      [value]="searchQuery"
      (ionInput)="onSearchInput($event)"
      (keyup.enter)="onSearch()"
      show-clear-button="focus"
      animated="false"
      [disabled]="isLoading">
    </ion-searchbar>

    <!-- Filtros de UbicaciÃ³n dentro del input -->
    <div class="location-filters-inline">
      <ion-item class="filter-item-inline">
        <ion-select
          [(ngModel)]="selectedProvince"
          (ionChange)="onProvinceChange($event)"
          placeholder="Provincia"
          interface="popover"
          class="filter-select">
          <ion-select-option value="all">Todas</ion-select-option>
          <ion-select-option *ngFor="let province of provinces" [value]="province.id.toString()">
            {{ province.name }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item class="filter-item-inline">
        <ion-select
          [(ngModel)]="selectedCity"
          (ionChange)="onCityChange($event)"
          placeholder="Localidad"
          interface="popover"
          [disabled]="!selectedProvince"
          class="filter-select">
          <ion-select-option value="all">Todas</ion-select-option>
          <ion-select-option *ngFor="let city of cities" [value]="city.id.toString()">
            {{ city.name }}
          </ion-select-option>
        </ion-select>
      </ion-item>
    </div>
  </div>

  <ion-button
    class="search-button"
    (click)="onSearch()"
    fill="solid"
    color="primary"
    [disabled]="isLoading || !canSearch">
    <ion-icon name="search" slot="start"></ion-icon>
    {{ isLoading ? 'Buscando...' : 'Buscar' }}
  </ion-button>
</div>
